(()=>{const t=window.GBLatestPostsGrid?.graphqlEndpoint||"/graphql";function e(e){var n;const a=e.querySelector(".lpg-root")||e.querySelector(".lpg-mount")||e,o=function(t){const e=parseInt(t,10);return Number.isFinite(e)?e:6}(null!==(n=a.dataset?.postsToShow)&&void 0!==n?n:e.dataset?.postsToShow);(async function(e){const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n      query LPG($first:Int!){\n        posts(first:$first){\n          nodes{\n            databaseId\n            title\n            date\n            uri\n            featuredImage { node { sourceUrl } }\n            excerpt\n          }\n        }\n      }",variables:{first:e}})}),a=await n.json();if(!a?.data?.posts?.nodes)throw new Error("No posts from GraphQL");return a.data.posts.nodes})(Math.min(o,12)).then(t=>function(t,e){t.innerHTML=`\n      <div class="lpg-grid">\n        ${e.map(t=>`\n          <article class="lpg-card">\n            ${t.featuredImage?.node?.sourceUrl?`<a class="lpg-img" href="${t.uri}"><img src="${t.featuredImage.node.sourceUrl}" alt=""></a>`:""}\n            <div class="lpg-meta">\n              <h3 class="lpg-title"><a href="${t.uri}">${t.title}</a></h3>\n              <div class="lpg-date">${new Date(t.date).toLocaleDateString()}</div>\n            </div>\n          </article>`).join("")}\n      </div>`}(a,t)).catch(t=>{console.warn("[LPG] render failed:",t),a.innerHTML='<p class="lpg-error">Could not load posts right now.</p>'})}function n(){document.querySelectorAll(".wp-block-lpg-latest-posts-grid").forEach(e)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()})();